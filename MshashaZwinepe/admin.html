<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Mshasha Zwinepe Photography</title>
    <link rel="stylesheet" href="admin.css">
    <!-- Include Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
</head>

<body>

    <!-- Custom Camera Cursor -->
    <div class="camera-cursor">
        <svg viewBox="0 0 40 40" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="20" cy="20" r="18" />
            <circle cx="20" cy="20" r="12" />
            <circle cx="20" cy="20" r="6" />
            <line x1="20" y1="2" x2="20" y2="8" />
            <line x1="20" y1="32" x2="20" y2="38" />
            <line x1="2" y1="20" x2="8" y2="20" />
            <line x1="32" y1="20" x2="38" y2="20" />
        </svg>
    </div>
    <div class="cursor-dot"></div>

    <div class="container">
        <div class="header">
            <h1>Admin Panel</h1>
            <p>Content Management for Mshasha Zwinepe Photography</p>
        </div>

        <div class="admin-nav">
            <button class="nav-button active" onclick="showSection('overview')">Overview</button>
            <button class="nav-button" onclick="showSection('categories')">Categories</button>
            <button class="nav-button" onclick="showSection('portfolio')">Portfolio Management</button>
            <button class="nav-button" onclick="showSection('featured-video')">Featured Video</button>
            <button class="nav-button" onclick="showSection('home-portfolio')">Home Portfolio Items</button>
            <button class="nav-button" onclick="showSection('messages')">Contact Messages</button>

        </div>

        <!-- Overview Section -->
        <div id="overview" class="section active">
            <h2 class="section-title">Dashboard Overview</h2>
            <div class="stats-overview" id="statsOverview">
                <!-- Stats will be dynamically populated -->
            </div>
        </div>

        <!-- Categories Management Section -->
        <div id="categories" class="section">
            <h2 class="section-title">Category Management</h2>

            <div class="form-grid">
                <div class="form-group">
                    <label for="newCategoryName">New Category Name</label>
                    <input type="text" id="newCategoryName" class="form-input" placeholder="Enter category name">
                </div>
                <div class="form-group">
                    <label for="newCategoryDescription">Category Description</label>
                    <input type="text" id="newCategoryDescription" class="form-input"
                        placeholder="Enter category description">
                </div>
            </div>

            <button class="btn-primary" onclick="addCategory()" id="addCategoryBtn">Add Category</button>

            <div class="category-management">
                <h3
                    style="color: var(--secondary); margin-bottom: 20px; font-weight: 300; letter-spacing: 2px; text-transform: uppercase;">
                    Existing Categories</h3>
                <div id="categoriesList">
                    <!-- Categories will be populated here -->
                </div>
            </div>
        </div>

        <!-- Portfolio Management Section -->

        <!-- Add this to your admin.html Portfolio Management Section -->
        <!-- Replace the existing portfolio section with this enhanced version -->

        <div id="portfolio" class="section">
            <h2 class="section-title">Portfolio Gallery Management</h2>

            <div class="form-grid">
                <div class="form-group">
                    <label for="photoCategory">Category</label>
                    <select id="photoCategory" class="form-select">
                        <!-- Categories will be populated dynamically -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="photoTitle">Portfolio Title</label>
                    <input type="text" id="photoTitle" class="form-input" placeholder="Enter title">
                </div>
            </div>

            <div class="form-group">
                <label for="photoDescription">Description</label>
                <textarea id="photoDescription" class="form-textarea" placeholder="Enter description"></textarea>
            </div>

            <!-- Media Type Selection -->
            <div class="form-group">
                <label>Media Type</label>
                <div style="display: flex; gap: 20px; margin-top: 10px;">
                    <label style="display: flex; align-items: center; cursor: pointer;">
                        <input type="checkbox" id="includeImages" checked style="margin-right: 10px;">
                        <span>Images</span>
                    </label>
                    <label style="display: flex; align-items: center; cursor: pointer;">
                        <input type="checkbox" id="includeVideos" style="margin-right: 10px;">
                        <span>Videos (Upload)</span>
                    </label>
                    <label style="display: flex; align-items: center; cursor: pointer;">
                        <input type="checkbox" id="includeYouTube" style="margin-right: 10px;">
                        <span>YouTube Videos</span>
                    </label>
                </div>
            </div>

            <!-- Image Upload Section -->
            <div class="form-group" id="imageUploadSection">
                <label for="photoFile">Upload Images</label>
                <div class="file-upload">
                    <input type="file" id="photoFile" accept="image/*" multiple>
                    <label for="photoFile" class="file-upload-label">Choose Images</label>
                    <div id="filePreview" class="file-preview"></div>
                </div>
            </div>

            <!-- Video Upload Section -->
            <div class="form-group" id="videoUploadSection" style="display: none;">
                <label for="videoFile">Upload Videos</label>
                <div class="file-upload">
                    <input type="file" id="videoFile" accept="video/*" multiple>
                    <label for="videoFile" class="file-upload-label">Choose Videos (Max 100MB each)</label>
                    <div id="videoFilePreview" class="file-preview"></div>
                </div>
            </div>

            <!-- YouTube URL Section -->
            <div class="form-group" id="youtubeSection" style="display: none;">
                <label for="youtubeUrls">YouTube Video URLs</label>
                <div id="youtubeUrlsContainer">
                    <div class="youtube-url-input" style="display: flex; gap: 10px; margin-bottom: 10px;">
                        <input type="url" class="form-input youtube-url"
                            placeholder="https://www.youtube.com/watch?v=..." style="flex: 1;">
                        <button type="button" onclick="addYouTubeUrlInput()" class="btn-small"
                            style="border-color: var(--secondary); color: var(--secondary);">+</button>
                    </div>
                </div>
            </div>

            <!-- Upload Progress -->
            <div id="uploadProgress" class="upload-progress" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <span id="progressText">0%</span>
            </div>

            <button class="btn-primary" onclick="uploadPortfolioItem()" id="uploadBtn">Upload to Portfolio</button>

            <div id="portfolioGallery" class="gallery-grid">
                <!-- Portfolio items will be displayed here -->
            </div>
        </div>

        <script>
            // Toggle media type sections
            document.getElementById('includeImages').addEventListener('change', function () {
                document.getElementById('imageUploadSection').style.display = this.checked ? 'block' : 'none';
            });

            document.getElementById('includeVideos').addEventListener('change', function () {
                document.getElementById('videoUploadSection').style.display = this.checked ? 'block' : 'none';
            });

            document.getElementById('includeYouTube').addEventListener('change', function () {
                document.getElementById('youtubeSection').style.display = this.checked ? 'block' : 'none';
            });

            // Add YouTube URL input field
            function addYouTubeUrlInput() {
                const container = document.getElementById('youtubeUrlsContainer');
                const newInput = document.createElement('div');
                newInput.className = 'youtube-url-input';
                newInput.style.cssText = 'display: flex; gap: 10px; margin-bottom: 10px;';
                newInput.innerHTML = `
        <input type="url" class="form-input youtube-url" placeholder="https://www.youtube.com/watch?v=..." style="flex: 1;">
        <button type="button" onclick="removeYouTubeUrlInput(this)" class="btn-small" style="border-color: #e74c3c; color: #e74c3c;">-</button>
    `;
                container.appendChild(newInput);
            }

            function removeYouTubeUrlInput(button) {
                button.parentElement.remove();
            }

            // Setup file preview for videos
            function setupVideoPreview(inputId, previewId) {
                const input = document.getElementById(inputId);
                const preview = document.getElementById(previewId);

                input.addEventListener('change', function (e) {
                    preview.innerHTML = '';
                    const files = Array.from(this.files);

                    files.forEach(file => {
                        if (!file.type.startsWith('video/')) return;

                        const previewItem = document.createElement('div');
                        previewItem.className = 'preview-item';
                        previewItem.innerHTML = `
                <span>ðŸŽ¬ ${file.name}</span>
                <span class="file-size">(${formatFileSize(file.size)})</span>
            `;
                        preview.appendChild(previewItem);
                    });
                });
            }

            // Initialize video preview
            setupVideoPreview('videoFile', 'videoFilePreview');

            // Enhanced upload function with video and YouTube support
            async function uploadPortfolioItem() {
                const categoryId = document.getElementById('photoCategory').value;
                const title = document.getElementById('photoTitle').value.trim();
                const description = document.getElementById('photoDescription').value.trim();
                const button = document.getElementById('uploadBtn');

                const includeImages = document.getElementById('includeImages').checked;
                const includeVideos = document.getElementById('includeVideos').checked;
                const includeYouTube = document.getElementById('includeYouTube').checked;

                if (!categoryId || !title || !description) {
                    showAlert('Please fill in category, title, and description.', 'error');
                    return;
                }

                if (!includeImages && !includeVideos && !includeYouTube) {
                    showAlert('Please select at least one media type.', 'error');
                    return;
                }

                try {
                    setLoading(button, true);
                    updateUploadProgress(0);

                    let imageUrls = [];
                    let videoUrls = [];
                    let youtubeUrls = [];

                    // Upload images
                    if (includeImages) {
                        const imageFiles = document.getElementById('photoFile').files;
                        if (imageFiles.length > 0) {
                            const imageUploadPromises = Array.from(imageFiles).map(file =>
                                uploadToFirebase(file, 'portfolio/images')
                            );
                            const imageResults = await Promise.all(imageUploadPromises);
                            imageUrls = imageResults.map(result => result.url);
                            updateUploadProgress(33);
                        }
                    }

                    // Upload videos
                    if (includeVideos) {
                        const videoFiles = document.getElementById('videoFile').files;
                        if (videoFiles.length > 0) {
                            const videoUploadPromises = Array.from(videoFiles).map(file =>
                                uploadToFirebase(file, 'portfolio/videos')
                            );
                            const videoResults = await Promise.all(videoUploadPromises);
                            videoUrls = videoResults.map(result => result.url);
                            updateUploadProgress(66);
                        }
                    }

                    // Get YouTube URLs
                    if (includeYouTube) {
                        const urlInputs = document.querySelectorAll('.youtube-url');
                        urlInputs.forEach(input => {
                            const url = input.value.trim();
                            if (url) {
                                youtubeUrls.push(url);
                            }
                        });
                    }

                    // Check if at least one media item exists
                    if (imageUrls.length === 0 && videoUrls.length === 0 && youtubeUrls.length === 0) {
                        showAlert('Please add at least one image, video, or YouTube URL.', 'error');
                        setLoading(button, false);
                        return;
                    }

                    // Create portfolio item with all media
                    const response = await apiCall('/api/portfolio', {
                        method: 'POST',
                        body: JSON.stringify({
                            categoryId,
                            title,
                            description,
                            images: imageUrls,
                            videos: videoUrls,
                            youtubeUrls: youtubeUrls
                        })
                    });

                    // Reset form
                    document.getElementById('photoTitle').value = '';
                    document.getElementById('photoDescription').value = '';
                    document.getElementById('photoFile').value = '';
                    document.getElementById('videoFile').value = '';
                    document.getElementById('filePreview').innerHTML = '';
                    document.getElementById('videoFilePreview').innerHTML = '';

                    // Reset YouTube URLs
                    document.getElementById('youtubeUrlsContainer').innerHTML = `
            <div class="youtube-url-input" style="display: flex; gap: 10px; margin-bottom: 10px;">
                <input type="url" class="form-input youtube-url" placeholder="https://www.youtube.com/watch?v=..." style="flex: 1;">
                <button type="button" onclick="addYouTubeUrlInput()" class="btn-small" style="border-color: var(--secondary); color: var(--secondary);">+</button>
            </div>
        `;

                    updateUploadProgress(100);

                    await loadPortfolioItems();
                    await updateStats();
                    showAlert('Portfolio item uploaded successfully with all media!', 'success');
                } catch (error) {
                    console.error('Upload error:', error);
                    showAlert(error.message || 'Failed to upload portfolio item', 'error');
                } finally {
                    setLoading(button, false);
                }
            }

            // Enhanced portfolio rendering with video support
            function renderPortfolioGallery(portfolioItems) {
                const portfolioGallery = document.getElementById('portfolioGallery');
                portfolioGallery.innerHTML = '';

                if (!portfolioItems || portfolioItems.length === 0) {
                    portfolioGallery.innerHTML = '<p style="opacity: 0.7; text-align: center; grid-column: 1 / -1;">No portfolio items found</p>';
                    return;
                }

                portfolioItems.forEach((item, index) => {
                    const galleryItem = document.createElement('div');
                    galleryItem.className = 'gallery-item';
                    galleryItem.style.cursor = 'pointer';

                    // Determine thumbnail - prefer images, then videos, then YouTube
                    let thumbnailHtml = '';
                    if (item.images && item.images.length > 0) {
                        thumbnailHtml = `<img src="${item.images[0]}" alt="${item.title}" style="width: 100%; height: 200px; object-fit: cover;">`;
                    } else if (item.videos && item.videos.length > 0) {
                        thumbnailHtml = `<video src="${item.videos[0]}" style="width: 100%; height: 200px; object-fit: cover;" muted></video>`;
                    } else if (item.youtubeUrls && item.youtubeUrls.length > 0) {
                        const videoId = item.youtubeUrls[0].embedUrl.split('/embed/')[1];
                        thumbnailHtml = `<img src="https://img.youtube.com/vi/${videoId}/hqdefault.jpg" alt="${item.title}" style="width: 100%; height: 200px; object-fit: cover;">`;
                    } else {
                        thumbnailHtml = '<div style="width: 100%; height: 200px; background: rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center; color: rgba(255,255,255,0.5);">No Media</div>';
                    }

                    const totalMedia = (item.images?.length || 0) + (item.videos?.length || 0) + (item.youtubeUrls?.length || 0);

                    galleryItem.innerHTML = `
            ${thumbnailHtml}
            <h4>${item.title}</h4>
            <p>${item.description}</p>
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <span style="font-size: 10px; opacity: 0.7;">${item.categoryName} â€¢ ${new Date(item.createdAt).toLocaleDateString()}</span>
                <span style="font-size: 10px; opacity: 0.7;">
                    ðŸ“· ${item.images?.length || 0} 
                    ðŸŽ¬ ${item.videos?.length || 0} 
                    ðŸ“º ${item.youtubeUrls?.length || 0}
                </span>
            </div>
        `;

                    galleryItem.addEventListener('click', () => {
                        openMediaModal(item);
                    });

                    portfolioGallery.appendChild(galleryItem);
                });
            }

            // Enhanced modal with video playback
            function openMediaModal(item) {
                const modal = document.createElement('div');
                modal.className = 'image-modal';

                let mediaHtml = '';

                // Add images
                if (item.images && item.images.length > 0) {
                    mediaHtml += '<h5 style="color: var(--secondary); margin: 20px 0 10px 0;">Images</h5>';
                    mediaHtml += '<div class="modal-images-grid">';
                    item.images.forEach((img, idx) => {
                        mediaHtml += `
                <div class="modal-image-item">
                    <img src="${img}" alt="${item.title} - Image ${idx + 1}">
                    <button class="btn-delete-image" onclick="deleteMedia('${item.id}', 'images', ${idx}, event)">Delete</button>
                </div>
            `;
                    });
                    mediaHtml += '</div>';
                }

                // Add uploaded videos
                if (item.videos && item.videos.length > 0) {
                    mediaHtml += '<h5 style="color: var(--secondary); margin: 20px 0 10px 0;">Uploaded Videos</h5>';
                    mediaHtml += '<div class="modal-images-grid">';
                    item.videos.forEach((video, idx) => {
                        mediaHtml += `
                <div class="modal-image-item">
                    <video controls style="width: 100%; height: 300px; object-fit: cover;">
                        <source src="${video}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <button class="btn-delete-image" onclick="deleteMedia('${item.id}', 'videos', ${idx}, event)">Delete</button>
                </div>
            `;
                    });
                    mediaHtml += '</div>';
                }

                // Add YouTube videos
                if (item.youtubeUrls && item.youtubeUrls.length > 0) {
                    mediaHtml += '<h5 style="color: var(--secondary); margin: 20px 0 10px 0;">YouTube Videos</h5>';
                    mediaHtml += '<div class="modal-images-grid">';
                    item.youtubeUrls.forEach((urlObj, idx) => {
                        mediaHtml += `
                <div class="modal-image-item">
                    <div style="position: relative; padding-bottom: 56.25%; height: 0;">
                        <iframe 
                            src="${urlObj.embedUrl}" 
                            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                            allowfullscreen>
                        </iframe>
                    </div>
                    <button class="btn-delete-image" onclick="deleteMedia('${item.id}', 'youtubeUrls', ${idx}, event)">Delete</button>
                </div>
            `;
                    });
                    mediaHtml += '</div>';
                }

                if (!mediaHtml) {
                    mediaHtml = '<p style="opacity: 0.7; text-align: center;">No media found</p>';
                }

                modal.innerHTML = `
        <div class="modal-content">
            <div class="modal-header">
                <h3>${item.title}</h3>
                <button class="modal-close" onclick="closeImageModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: 20px; opacity: 0.8;">${item.description}</p>
                ${mediaHtml}
            </div>
            <div class="modal-footer">
                <button class="btn-delete" onclick="deletePortfolioItem('${item.id}'); closeImageModal();">Delete Entire Item</button>
                <button class="btn-secondary" onclick="closeImageModal()">Close</button>
            </div>
        </div>
    `;

                document.body.appendChild(modal);

                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeImageModal();
                    }
                });
            }

            // Delete media function
            async function deleteMedia(itemId, mediaType, mediaIndex, event) {
                if (event) event.stopPropagation();

                if (!confirm(`Are you sure you want to delete this ${mediaType.slice(0, -1)}?`)) {
                    return;
                }

                try {
                    await apiCall(`/api/portfolio/${itemId}/media/${mediaType}/${mediaIndex}`, {
                        method: 'DELETE'
                    });

                    closeImageModal();
                    await loadPortfolioItems();
                    showAlert(`${mediaType.slice(0, -1)} deleted successfully!`, 'success');
                } catch (error) {
                    showAlert(error.message || `Failed to delete ${mediaType.slice(0, -1)}`, 'error');
                }
            }
        </script>

        <style>
            /* Additional styles for video support */
            .modal-images-grid video {
                border-radius: 5px;
                background: #000;
            }

            .youtube-url-input {
                animation: fadeInUp 0.3s ease;
            }

            .file-preview {
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                margin-top: 10px;
            }

            .preview-item {
                display: flex;
                flex-direction: column;
                align-items: center;
                background: rgba(255, 255, 255, 0.05);
                padding: 10px;
                border-radius: 5px;
                max-width: 150px;
            }

            .preview-item img {
                width: 100px;
                height: 100px;
                object-fit: cover;
                border-radius: 3px;
                margin-bottom: 5px;
            }

            .preview-item span {
                font-size: 10px;
                text-align: center;
                word-break: break-all;
            }

            .file-size {
                opacity: 0.7;
                font-size: 9px !important;
            }
        </style>

        <!-- Featured Video Section -->
        <div id="featured-video" class="section">
            <h2 class="section-title">Featured Video Management</h2>

            <div class="form-group">
                <label for="videoTitle">Video Title</label>
                <input type="text" id="videoTitle" class="form-input" placeholder="Enter video title">
            </div>

            <div class="form-group">
                <label for="videoUrl">YouTube Video URL</label>
                <input type="url" id="videoUrl" class="form-input" placeholder="https://www.youtube.com/watch?v=...">
            </div>

            <div class="form-group">
                <label for="videoDescription">Video Description</label>
                <textarea id="videoDescription" class="form-textarea" placeholder="Enter video description"></textarea>
            </div>

            <button class="btn-primary" onclick="updateFeaturedVideo()" id="updateVideoBtn">Update Featured
                Video</button>

            <div class="video-preview">
                <h4>Current Featured Video</h4>
                <div class="video-container" id="currentVideoPreview">
                    <!-- Video iframe will be populated here -->
                </div>
                <p id="currentVideoDescription"></p>
            </div>
        </div>

        <!-- Home Portfolio Items Section -->
        <div id="home-portfolio" class="section">
            <h2 class="section-title">Home Page Portfolio Items</h2>

            <div class="form-grid">
                <div class="form-group">
                    <label for="homeCategory">Category</label>
                    <select id="homeCategory" class="form-select">
                        <!-- Categories will be populated dynamically -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="homeTitle">Title</label>
                    <input type="text" id="homeTitle" class="form-input" placeholder="Enter title">
                </div>
            </div>

            <div class="form-group">
                <label for="homeDescription">Description</label>
                <input type="text" id="homeDescription" class="form-input" placeholder="Enter description">
            </div>

            <div class="form-group">
                <label for="homeImageFile">Upload Image</label>
                <div class="file-upload">
                    <input type="file" id="homeImageFile" accept="image/*">
                    <label for="homeImageFile" class="file-upload-label">Choose Image</label>
                    <div id="homeImagePreview" class="file-preview"></div>
                </div>
            </div>

            <button class="btn-primary" onclick="addHomePortfolioItem()" id="addHomeItemBtn">Add Home Portfolio
                Item</button>

            <div id="homePortfolioGallery" class="gallery-grid">
                <!-- Home portfolio items will be displayed here -->
            </div>
        </div>
    </div>


    <div id="messages" class="section">
        <h2 class="section-title">Contact Messages</h2>

        <div class="messages-filters" style="margin-bottom: 30px; display: flex; gap: 20px; justify-content: center;">
            <button class="filter-btn active" data-filter="all" onclick="filterMessages('all')">
                All Messages (<span id="allCount">0</span>)
            </button>
            <button class="filter-btn" data-filter="unread" onclick="filterMessages('unread')">
                Unread (<span id="unreadCount">0</span>)
            </button>
            <button class="filter-btn" data-filter="read" onclick="filterMessages('read')">
                Read (<span id="readCount">0</span>)
            </button>
        </div>

        <div id="messagesList" class="messages-list">
            <!-- Messages will be populated here -->
        </div>
    </div>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBRq8lvXWDQLpdeXL3oz59TBx38LvUPGRk",
            authDomain: "mshashazwinepe-8489d.firebaseapp.com",
            projectId: "mshashazwinepe-8489d",
            storageBucket: "mshashazwinepe-8489d.firebasestorage.app",
            messagingSenderId: "1020679564289",
            appId: "1:1020679564289:web:93a9c669415deeaf42a400"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const storage = firebase.storage();

        // API Configuration
        const API_BASE_URL = 'http://localhost:3000';

        // Custom cursor functionality
        const cursor = document.querySelector('.camera-cursor');
        const cursorDot = document.querySelector('.cursor-dot');

        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
            cursorDot.style.left = (e.clientX - 4) + 'px';
            cursorDot.style.top = (e.clientY - 4) + 'px';
        });

        // Add hover effect to clickable elements
        document.querySelectorAll('button, input, select, textarea, .file-upload-label').forEach(elem => {
            elem.addEventListener('mouseenter', () => {
                cursor.style.transform = 'scale(1.5)';
                cursorDot.style.transform = 'scale(2)';
            });
            elem.addEventListener('mouseleave', () => {
                cursor.style.transform = 'scale(1)';
                cursorDot.style.transform = 'scale(1)';
            });
        });

        // API Helper Functions
        async function apiCall(endpoint, options = {}) {
            try {
                const response = await fetch(`${API_BASE_URL}${endpoint}`, {
                    headers: {
                        'Content-Type': 'application/json',
                        ...options.headers
                    },
                    ...options
                });

                const data = await response.json();

                if (!response.ok) {
                    throw new Error(data.message || `HTTP error! status: ${response.status}`);
                }

                return data;
            } catch (error) {
                console.error('API call failed:', error);
                throw error;
            }
        }

        function setLoading(button, isLoading) {
            if (isLoading) {
                button.classList.add('loading');
                button.disabled = true;
                button.innerHTML = `<span class="spinner"></span>${button.textContent}`;
            } else {
                button.classList.remove('loading');
                button.disabled = false;
                button.innerHTML = button.textContent.replace('<span class="spinner"></span>', '');
            }
        }

        // File Preview and Upload Functions
        function setupFilePreview(inputId, previewId) {
            const input = document.getElementById(inputId);
            const preview = document.getElementById(previewId);

            input.addEventListener('change', function (e) {
                preview.innerHTML = '';
                const files = Array.from(this.files);

                files.forEach(file => {
                    if (!file.type.startsWith('image/')) return;

                    const reader = new FileReader();
                    reader.onload = function (e) {
                        const previewItem = document.createElement('div');
                        previewItem.className = 'preview-item';
                        previewItem.innerHTML = `
                            <img src="${e.target.result}" alt="${file.name}">
                            <span>${file.name}</span>
                            <span class="file-size">(${formatFileSize(file.size)})</span>
                        `;
                        preview.appendChild(previewItem);
                    };
                    reader.readAsDataURL(file);
                });
            });
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // Firebase Storage Upload Function
        async function uploadToFirebase(file, folder = 'portfolio') {
            return new Promise((resolve, reject) => {
                const timestamp = Date.now();
                const randomString = Math.random().toString(36).substring(2, 15);
                const fileExtension = file.name.split('.').pop();
                const filename = `${folder}/${timestamp}_${randomString}.${fileExtension}`;

                const storageRef = storage.ref().child(filename);
                const uploadTask = storageRef.put(file);

                uploadTask.on('state_changed',
                    (snapshot) => {
                        // Progress monitoring
                        const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                        updateUploadProgress(progress);
                    },
                    (error) => {
                        reject(error);
                    },
                    async () => {
                        // Upload completed successfully
                        const downloadURL = await uploadTask.snapshot.ref.getDownloadURL();
                        resolve({
                            url: downloadURL,
                            filename: filename,
                            originalName: file.name,
                            size: file.size,
                            contentType: file.type
                        });
                    }
                );
            });
        }

        function updateUploadProgress(progress) {
            const progressBar = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            const progressContainer = document.getElementById('uploadProgress');

            if (progressBar && progressText) {
                progressBar.style.width = progress + '%';
                progressText.textContent = Math.round(progress) + '%';
                progressContainer.style.display = 'block';

                if (progress >= 100) {
                    setTimeout(() => {
                        progressContainer.style.display = 'none';
                    }, 1000);
                }
            }
        }

        // Navigation
        function showSection(sectionName) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.querySelectorAll('.nav-button').forEach(button => {
                button.classList.remove('active');
            });

            document.getElementById(sectionName).classList.add('active');
            event.target.classList.add('active');

            if (sectionName === 'overview') {
                updateStats();
            } else if (sectionName === 'categories') {
                loadCategories();
            } else if (sectionName === 'portfolio') {
                updateCategorySelects();
                loadPortfolioItems();
            } else if (sectionName === 'featured-video') {
                loadFeaturedVideo();
            } else if (sectionName === 'home-portfolio') {
                updateCategorySelects();
                loadHomePortfolioItems();
            }
        }

        // Category Management
        async function addCategory() {
            const name = document.getElementById('newCategoryName').value.trim();
            const description = document.getElementById('newCategoryDescription').value.trim();
            const button = document.getElementById('addCategoryBtn');

            if (!name || !description) {
                showAlert('Please fill in both category name and description.', 'error');
                return;
            }

            try {
                setLoading(button, true);

                const response = await apiCall('/api/categories', {
                    method: 'POST',
                    body: JSON.stringify({ name, description })
                });

                document.getElementById('newCategoryName').value = '';
                document.getElementById('newCategoryDescription').value = '';

                await loadCategories();
                await updateCategorySelects();
                await updateStats();
                showAlert('Category added successfully!', 'success');
            } catch (error) {
                showAlert(error.message || 'Failed to add category', 'error');
            } finally {
                setLoading(button, false);
            }
        }

        async function deleteCategory(categoryId) {
            if (!confirm(`Are you sure you want to delete this category? This will also delete all photos in this category.`)) {
                return;
            }

            try {
                await apiCall(`/api/categories/${categoryId}`, {
                    method: 'DELETE'
                });

                await loadCategories();
                await updateCategorySelects();
                await loadPortfolioItems();
                await updateStats();
                showAlert('Category deleted successfully!', 'success');
            } catch (error) {
                showAlert(error.message || 'Failed to delete category', 'error');
            }
        }

        async function loadCategories() {
            try {
                const response = await apiCall('/api/categories');
                renderCategoriesList(response.data);
            } catch (error) {
                showAlert('Failed to load categories', 'error');
            }
        }

        function renderCategoriesList(categories) {
            const categoriesList = document.getElementById('categoriesList');
            categoriesList.innerHTML = '';

            if (!categories || Object.keys(categories).length === 0) {
                categoriesList.innerHTML = '<p style="opacity: 0.7; text-align: center;">No categories found</p>';
                return;
            }

            Object.keys(categories).forEach(categoryKey => {
                const category = categories[categoryKey];
                const categoryItem = document.createElement('div');
                categoryItem.className = 'category-item';
                categoryItem.innerHTML = `
                    <div>
                        <div class="category-name">${category.name}</div>
                        <div style="font-size: 12px; opacity: 0.7;">${category.description}</div>
                    </div>
                    <button class="btn-small" onclick="deleteCategory('${categoryKey}')">Delete</button>
                `;
                categoriesList.appendChild(categoryItem);
            });
        }

        async function updateCategorySelects() {
            try {
                const response = await apiCall('/api/categories');
                const categories = response.data;

                const photoCategorySelect = document.getElementById('photoCategory');
                const homeCategorySelect = document.getElementById('homeCategory');

                photoCategorySelect.innerHTML = '';
                homeCategorySelect.innerHTML = '';

                Object.keys(categories).forEach(categoryKey => {
                    const category = categories[categoryKey];
                    const option = document.createElement('option');
                    option.value = categoryKey;
                    option.textContent = category.name;
                    photoCategorySelect.appendChild(option);

                    const homeOption = document.createElement('option');
                    homeOption.value = category.name;
                    homeOption.textContent = category.name;
                    homeCategorySelect.appendChild(homeOption);
                });
            } catch (error) {
                console.error('Failed to load categories for selects:', error);
            }
        }

        // Portfolio Management - UPDATED FOR FIREBASE STORAGE
        async function uploadPhotos() {
            const categoryId = document.getElementById('photoCategory').value;
            const title = document.getElementById('photoTitle').value.trim();
            const description = document.getElementById('photoDescription').value.trim();
            const fileInput = document.getElementById('photoFile');
            const button = document.getElementById('uploadBtn');

            if (!categoryId || !title || !description || fileInput.files.length === 0) {
                showAlert('Please fill in all fields and select at least one photo.', 'error');
                return;
            }

            try {
                setLoading(button, true);
                updateUploadProgress(0);

                // Upload each file to Firebase Storage
                const files = Array.from(fileInput.files);
                const uploadPromises = files.map(file => uploadToFirebase(file, 'portfolio'));

                const uploadResults = await Promise.all(uploadPromises);
                const imageUrls = uploadResults.map(result => result.url);

                // Create portfolio item with the Firebase Storage URLs
                const response = await apiCall('/api/portfolio', {
                    method: 'POST',
                    body: JSON.stringify({
                        categoryId,
                        title,
                        description,
                        images: imageUrls
                    })
                });

                // Reset form
                document.getElementById('photoTitle').value = '';
                document.getElementById('photoDescription').value = '';
                fileInput.value = '';
                document.getElementById('filePreview').innerHTML = '';
                updateUploadProgress(100);

                await loadPortfolioItems();
                await updateStats();
                showAlert('Photo(s) uploaded successfully to Firebase Storage!', 'success');
            } catch (error) {
                console.error('Upload error:', error);
                showAlert(error.message || 'Failed to upload photo(s)', 'error');
            } finally {
                setLoading(button, false);
            }
        }

        async function deletePortfolioItem(itemId) {
            if (!confirm('Are you sure you want to delete this portfolio item?')) {
                return;
            }

            try {
                await apiCall(`/api/portfolio/${itemId}`, {
                    method: 'DELETE'
                });

                await loadPortfolioItems();
                await updateStats();
                showAlert('Portfolio item deleted successfully!', 'success');
            } catch (error) {
                showAlert(error.message || 'Failed to delete portfolio item', 'error');
            }
        }

        async function loadPortfolioItems() {
            try {
                const response = await apiCall('/api/portfolio');
                renderPortfolioGallery(response.data);
            } catch (error) {
                showAlert('Failed to load portfolio items', 'error');
            }
        }

        function renderPortfolioGallery(portfolioItems) {
            const portfolioGallery = document.getElementById('portfolioGallery');
            portfolioGallery.innerHTML = '';

            if (!portfolioItems || portfolioItems.length === 0) {
                portfolioGallery.innerHTML = '<p style="opacity: 0.7; text-align: center; grid-column: 1 / -1;">No portfolio items found</p>';
                return;
            }

            portfolioItems.forEach((item, index) => {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item';
                galleryItem.style.cursor = 'pointer';
                galleryItem.innerHTML = `
                    ${item.images && item.images.length > 0 ?
                        `<img src="${item.images[0]}" alt="${item.title}" style="width: 100%; height: 200px; object-fit: cover;">` :
                        '<div style="width: 100%; height: 200px; background: rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center; color: rgba(255,255,255,0.5);">No Image</div>'
                    }
                    <h4>${item.title}</h4>
                    <p>${item.description}</p>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="font-size: 10px; opacity: 0.7;">${item.categoryName} â€¢ ${new Date(item.createdAt).toLocaleDateString()}</span>
                        <span style="font-size: 10px; opacity: 0.7;">${item.images ? item.images.length : 0} image(s)</span>
                    </div>
                `;

                galleryItem.addEventListener('click', () => {
                    openImageModal(item);
                });

                portfolioGallery.appendChild(galleryItem);
            });
        }

        function openImageModal(item) {
            // Create modal overlay
            const modal = document.createElement('div');
            modal.className = 'image-modal';
            modal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>${item.title}</h3>
                        <button class="modal-close" onclick="closeImageModal()">&times;</button>
                    </div>
                    <div class="modal-body">
                        <p style="margin-bottom: 20px; opacity: 0.8;">${item.description}</p>
                        <div class="modal-images-grid">
                            ${item.images && item.images.length > 0 ?
                    item.images.map((img, idx) => `
                                    <div class="modal-image-item">
                                        <img src="${img}" alt="${item.title} ${idx + 1}">
                                        <button class="btn-delete-image" onclick="deleteImage('${item.id}', ${idx}, event)">Delete Image</button>
                                    </div>
                                `).join('') :
                    '<p style="opacity: 0.7; text-align: center;">No images</p>'
                }
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn-delete" onclick="deletePortfolioItem('${item.id}'); closeImageModal();">Delete Entire Item</button>
                        <button class="btn-secondary" onclick="closeImageModal()">Close</button>
                    </div>
                </div>
            `;

            document.body.appendChild(modal);

            // Close on outside click
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeImageModal();
                }
            });
        }

        function closeImageModal() {
            const modal = document.querySelector('.image-modal');
            if (modal) {
                modal.remove();
            }
        }

        async function deleteImage(itemId, imageIndex, event) {
            if (event) event.stopPropagation();

            if (!confirm('Are you sure you want to delete this image?')) {
                return;
            }

            try {
                await apiCall(`/api/portfolio/${itemId}/image/${imageIndex}`, {
                    method: 'DELETE'
                });

                closeImageModal();
                await loadPortfolioItems();
                showAlert('Image deleted successfully!', 'success');
            } catch (error) {
                showAlert(error.message || 'Failed to delete image', 'error');
            }
        }

        // Home Portfolio Management - UPDATED FOR FIREBASE STORAGE
        async function addHomePortfolioItem() {
            const category = document.getElementById('homeCategory').value;
            const title = document.getElementById('homeTitle').value.trim();
            const description = document.getElementById('homeDescription').value.trim();
            const fileInput = document.getElementById('homeImageFile');
            const button = document.getElementById('addHomeItemBtn');

            if (!category || !title || !description || fileInput.files.length === 0) {
                showAlert('Please fill in all fields and select an image.', 'error');
                return;
            }

            try {
                setLoading(button, true);

                // Upload image to Firebase Storage
                const file = fileInput.files[0];
                const uploadResult = await uploadToFirebase(file, 'home-portfolio');

                // Create home portfolio item with Firebase Storage URL
                const response = await apiCall('/api/home-portfolio', {
                    method: 'POST',
                    body: JSON.stringify({
                        category,
                        title,
                        description,
                        image: uploadResult.url,
                        galleryType: category.toLowerCase()
                    })
                });

                // Reset form
                document.getElementById('homeTitle').value = '';
                document.getElementById('homeDescription').value = '';
                fileInput.value = '';
                document.getElementById('homeImagePreview').innerHTML = '';

                await loadHomePortfolioItems();
                await updateStats();
                showAlert('Home portfolio item added successfully with Firebase Storage!', 'success');
            } catch (error) {
                showAlert(error.message || 'Failed to add home portfolio item', 'error');
            } finally {
                setLoading(button, false);
            }
        }

        async function deleteHomePortfolioItem(itemId) {
            if (!confirm('Are you sure you want to delete this home portfolio item?')) {
                return;
            }

            try {
                await apiCall(`/api/home-portfolio/${itemId}`, {
                    method: 'DELETE'
                });

                await loadHomePortfolioItems();
                await updateStats();
                showAlert('Home portfolio item deleted successfully!', 'success');
            } catch (error) {
                showAlert(error.message || 'Failed to delete home portfolio item', 'error');
            }
        }

        async function loadHomePortfolioItems() {
            try {
                const response = await apiCall('/api/home-portfolio');
                renderHomePortfolioGallery(response.data);
            } catch (error) {
                showAlert('Failed to load home portfolio items', 'error');
            }
        }

        function renderHomePortfolioGallery(homePortfolioItems) {
            const homePortfolioGallery = document.getElementById('homePortfolioGallery');
            homePortfolioGallery.innerHTML = '';

            if (!homePortfolioItems || homePortfolioItems.length === 0) {
                homePortfolioGallery.innerHTML = '<p style="opacity: 0.7; text-align: center; grid-column: 1 / -1;">No home portfolio items found</p>';
                return;
            }

            homePortfolioItems.forEach((item, index) => {
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item';
                galleryItem.innerHTML = `
                    <img src="${item.image}" alt="${item.title}" style="width: 100%; height: 200px; object-fit: cover;">
                    <h4>${item.title}</h4>
                    <p>${item.description}</p>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="font-size: 10px; opacity: 0.7;">${item.category}</span>
                        <button class="btn-delete" onclick="deleteHomePortfolioItem('${item.id}')">Delete</button>
                    </div>
                `;
                homePortfolioGallery.appendChild(galleryItem);
            });
        }

        // Featured Video Management
        async function updateFeaturedVideo() {
            const title = document.getElementById('videoTitle').value.trim();
            const url = document.getElementById('videoUrl').value.trim();
            const description = document.getElementById('videoDescription').value.trim();
            const button = document.getElementById('updateVideoBtn');

            if (!title || !url || !description) {
                showAlert('Please fill in all fields.', 'error');
                return;
            }

            try {
                setLoading(button, true);

                const response = await apiCall('/api/featured-video', {
                    method: 'PUT',
                    body: JSON.stringify({
                        title,
                        url,
                        description
                    })
                });

                await loadFeaturedVideo();
                showAlert('Featured video updated successfully!', 'success');
            } catch (error) {
                showAlert(error.message || 'Failed to update featured video', 'error');
            } finally {
                setLoading(button, false);
            }
        }

        async function loadFeaturedVideo() {
            try {
                const response = await apiCall('/api/featured-video');
                const video = response.data;

                document.getElementById('videoTitle').value = video.title || '';
                document.getElementById('videoUrl').value = video.url || '';
                document.getElementById('videoDescription').value = video.description || '';

                const preview = document.getElementById('currentVideoPreview');
                if (video.url) {
                    preview.innerHTML = `<iframe src="${video.url}" allowfullscreen></iframe>`;
                } else {
                    preview.innerHTML = '<p style="text-align: center; opacity: 0.7;">No featured video set</p>';
                }

                document.getElementById('currentVideoDescription').textContent = video.description || '';
            } catch (error) {
                console.error('Failed to load featured video:', error);
            }
        }

        // Stats Overview
        async function updateStats() {
            try {
                const response = await apiCall('/api/stats');
                const stats = response.data;

                const statsOverview = document.getElementById('statsOverview');
                statsOverview.innerHTML = `
                    <div class="stat-card">
                        <div class="stat-number">${stats.categories || 0}</div>
                        <div class="stat-label">Categories</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${stats.portfolioItems || 0}</div>
                        <div class="stat-label">Portfolio Photos</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${stats.homePortfolioItems || 0}</div>
                        <div class="stat-label">Home Portfolio Items</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${stats.featuredVideos || 0}</div>
                        <div class="stat-label">Featured Video</div>
                    </div>
                `;
            } catch (error) {
                console.error('Failed to load stats:', error);
            }
        }

        // Alert System
        function showAlert(message, type) {
            // Remove existing alerts
            document.querySelectorAll('.alert').forEach(alert => alert.remove());

            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;
            alert.textContent = message;

            // Insert after the section title
            const activeSection = document.querySelector('.section.active');
            const sectionTitle = activeSection.querySelector('.section-title');
            activeSection.insertBefore(alert, sectionTitle.nextSibling);

            // Auto remove after 5 seconds
            setTimeout(() => {
                if (alert.parentNode) {
                    alert.parentNode.removeChild(alert);
                }
            }, 5000);
        }

        // Initialize the application
        async function init() {
            try {
                // Setup file previews
                setupFilePreview('photoFile', 'filePreview');
                setupFilePreview('homeImageFile', 'homeImagePreview');

                // Test API connection
                await apiCall('/');

                // Load initial data
                await Promise.all([
                    updateCategorySelects(),
                    loadCategories(),
                    loadPortfolioItems(),
                    loadFeaturedVideo(),
                    loadHomePortfolioItems(),
                    updateStats()
                ]);

                showAlert('Admin panel connected successfully! Images will be stored in Firebase Storage.', 'success');
            } catch (error) {
                showAlert('Failed to connect to API. Please ensure the server is running on localhost:3000', 'error');
                console.error('Initialization error:', error);
            }
        }

        // Start the application when the page loads
        window.addEventListener('DOMContentLoaded', init);
    </script>

    <style>
        /* Additional styles for file preview and progress bar */
        .file-preview {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .preview-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            padding: 10px;
            border-radius: 5px;
            max-width: 100px;
        }

        .preview-item img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 3px;
        }

        .preview-item span {
            font-size: 10px;
            text-align: center;
            margin-top: 5px;
            word-break: break-all;
        }

        .file-size {
            opacity: 0.7;
            font-size: 9px !important;
        }

        .upload-progress {
            margin-top: 10px;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 5px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            width: 0%;
            transition: width 0.3s ease;
        }

        #progressText {
            font-size: 12px;
            opacity: 0.8;
        }

        /* Image Modal Styles */
        .image-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.98), rgba(38, 38, 38, 0.98));
            border: 1px solid rgba(212, 175, 55, 0.3);
            border-radius: 10px;
            max-width: 1200px;
            max-height: 90vh;
            width: 100%;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .modal-header {
            padding: 25px 30px;
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            margin: 0;
            color: var(--secondary);
            font-weight: 300;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--text);
            font-size: 36px;
            cursor: pointer;
            line-height: 1;
            padding: 0;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            color: var(--secondary);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 30px;
            overflow-y: auto;
            flex: 1;
        }

        .modal-images-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .modal-image-item {
            position: relative;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .modal-image-item:hover {
            transform: translateY(-5px);
        }

        .modal-image-item img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            display: block;
        }

        .btn-delete-image {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(220, 53, 69, 0.9);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 500;
            letter-spacing: 1px;
            text-transform: uppercase;
            transition: all 0.3s ease;
            opacity: 0;
        }

        .modal-image-item:hover .btn-delete-image {
            opacity: 1;
        }

        .btn-delete-image:hover {
            background: rgba(200, 35, 51, 1);
            transform: scale(1.05);
        }

        .modal-footer {
            padding: 20px 30px;
            border-top: 1px solid rgba(212, 175, 55, 0.2);
            display: flex;
            justify-content: space-between;
            gap: 15px;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text);
            border: 1px solid rgba(212, 175, 55, 0.3);
            padding: 12px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            letter-spacing: 2px;
            text-transform: uppercase;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: var(--secondary);
            color: var(--secondary);
        }

        .gallery-item {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .gallery-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.2);
        }
    </style>
</body>

</html>